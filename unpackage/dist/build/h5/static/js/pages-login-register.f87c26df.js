(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-register"],{"04e5":function(e,t,i){"use strict";i.r(t);var n=i("e662"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},"1b9b":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"use-copyright dflex-c padding-lr w-full",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.to.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconxiangqing animated rotate margin-right-sm ft-base"}),i("v-uni-view",{staticClass:"ft-dark"},[e._v("用云")]),i("v-uni-text",{staticClass:"margin-lr-xs"},[e._v("·")]),i("v-uni-text",[e._v("让开发更简单")])],1)],1)},a=[]},"54e5":function(e,t,i){"use strict";var n=i("ef87"),a=i.n(n);a.a},"59ed5":function(e,t,i){"use strict";i.r(t);var n=i("1b9b"),a=i("04e5");for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("bdcf");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"483e93eb",null,!1,n["a"],void 0);t["default"]=r.exports},"622e":function(e,t,i){"use strict";i.r(t);var n=i("d85a"),a=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},"6d83":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-copyright[data-v-483e93eb]{height:%?180?%}.use-copyright uni-text[data-v-483e93eb]{color:silver}',""]),e.exports=t},8560:function(e,t,i){var n=i("6d83");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("e11a1f76",n,!0,{sourceMap:!1,shadowMode:!1})},"9ea1":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-4cc50fb9]{background:#f4f4f4}body.?%PAGE?%[data-v-4cc50fb9]{background:#f4f4f4}.container[data-v-4cc50fb9]{padding-top:5vh;width:100vw;min-height:100vh;overflow:hidden}.portrait-box uni-image[data-v-4cc50fb9]{width:%?130?%;height:%?130?%;border:%?5?% solid #fff}',""]),e.exports=t},bdcf:function(e,t,i){"use strict";var n=i("8560"),a=i.n(n);a.a},d85a:function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac1f"),i("00b4"),i("498a");var a=n(i("5530")),s=i("26cb"),o={data:function(){return{env:{},is_show:!1,mobile:"",password:"",code:"",is_register:!1,is_send:!1,code_time:30,timer:0}},computed:(0,a.default)({},(0,s.mapState)(["member"])),onShow:function(){console.log("login Show")},onLoad:function(){var e=this;this.$api.get_env((function(t){e.env=t,e.is_mp=e.env.is_mp,e.platform=e.env.platform,e.platform_icon=e.env.platform_icon,e.platform_name=e.env.platform_name}))},methods:{inputChange:function(e){var t=e.currentTarget.dataset.key;this[t]=e.detail.value},sendCode:function(){var e=this;this.mobile?/(^1[3|4|5|7|8|9][0-9]{9}$)/.test(this.mobile)?this.is_send||(uni.showLoading({title:"发送中"}),this.code_time=30,this.is_send=!0,this.$func.usemall.call("member/sendSmsCode",{mobile:this.mobile,type:"register"}).then((function(t){uni.hideLoading(),200!=t.code?(e.is_send=!1,e.code_time=30,e.$api.msg(t.msg)):e.$api.alert("验证码已发送",(function(){e.timer=setInterval((function(){if(--e.code_time,e.code_time<=0)return clearInterval(e.timer),e.is_send=!1,void(e.code_time=30)}),1e3)}))}))):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请输入手机号")},tologin:function(){uni.navigateBack({})},register:function(){var e=this;this.is_register||(this.mobile?/(^1[3|4|5|7|8|9][0-9]{9}$)/.test(this.mobile)?this.password?this.$api.trim(this.password).length<4?this.$api.msg("密码长度不能小于4位"):this.code?(uni.getUserProfile=function(e){"function"===typeof e.success&&e.success({userInfo:{}})},uni.getUserProfile({desc:"用于完善会员资料",lang:"zh_CN",success:function(t){e.is_register=!0,e.$func.usemall.call("member/register",{username:e.mobile,password:e.password,code:e.code,user:t.userInfo}).then((function(t){e.is_register=!1,200!=t.code?e.$api.msg(t.msg):e.$api.alert("注册成功",(function(){if(e.$api.pages().length>1)return uni.setStorage({key:"__mobile",data:e.mobile}),void uni.navigateBack();e.$api.tologin()}))}))}})):this.$api.msg("请输入验证码"):this.$api.msg("请输入密码"):this.$api.msg("请输入正确的手机号码"):this.$api.msg("请输入手机号"))}}};t.default=o},e662:function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={props:{},data:function(){return{}},methods:{to:function(){this.$emit("to",{type:"to"})}}}},ead4:function(e,t,i){"use strict";i.r(t);var n=i("edcb"),a=i("622e");for(var s in a)["default"].indexOf(s)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("54e5");var o=i("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"4cc50fb9",null,!1,n["a"],void 0);t["default"]=r.exports},edcb:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return n}));var n={useCopyright:i("59ed5").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"container bg-main pos-r"},[i("v-uni-view",{staticClass:"padding-xl dflex-c dflex-flow-c"},[i("v-uni-view",{staticClass:"portrait-box margin-bottom"},[i("v-uni-image",{staticClass:"headimg border-radius-c",attrs:{src:e.member&&e.member.member_headimg||"/static/images/user/default.png"}})],1),i("v-uni-view",{staticClass:"w-full dflex padding-bottom-sm"},[i("v-uni-view",{staticClass:"iconfont iconshouji margin-right"}),i("v-uni-view",{staticClass:"flex1 dflex"},[i("v-uni-input",{staticClass:"border-line padding-sm flex1",attrs:{type:"number","data-key":"mobile",maxlength:"11",value:e.mobile,placeholder:"请输入手机号"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)}}}),e._e()],1)],1),i("v-uni-view",{staticClass:"w-full dflex padding-bottom-sm"},[i("v-uni-view",{staticClass:"iconfont iconmima margin-right"}),i("v-uni-input",{staticClass:"border-line padding-sm flex1",attrs:{type:"password",password:!0,"data-key":"password",maxlength:"20",value:e.password,placeholder:"请输入密码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"w-full dflex padding-bottom-sm"},[i("v-uni-view",{staticClass:"iconfont iconyanzheng margin-right"}),i("v-uni-view",{staticClass:"border-line flex1 dflex"},[i("v-uni-input",{staticClass:"padding-sm flex1",attrs:{type:"number","data-key":"code",maxlength:"6",value:e.code,placeholder:"请输入验证码"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)},confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}}),e.is_send?i("v-uni-view",{staticClass:"padding-tb-sm ft-base"},[e._v(e._s(e.code_time)+"s 重新获取")]):i("v-uni-view",{staticClass:"padding-tb-sm ft-base",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendCode.apply(void 0,arguments)}}},[e._v("发送验证码")])],1)],1),i("v-uni-view",{staticClass:"w-full margin-top-xl"},[i("v-uni-view",{staticClass:"dflex-b border-radius-lg"},[i("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base fs",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.register.apply(void 0,arguments)}}},[e._v("注册")])],1)],1)],1),i("use-copyright",{staticClass:"pos-f w-full",staticStyle:{bottom:"-30rpx"}})],1)},s=[]},ef87:function(e,t,i){var n=i("9ea1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("4f06").default;a("5785b464",n,!0,{sourceMap:!1,shadowMode:!1})}}]);