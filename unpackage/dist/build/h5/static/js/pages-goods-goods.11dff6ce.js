(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods"],{"01f5":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={goods:{width:"750rpx",height:"1114rpx",background:"#ff6a6c",views:[{type:"view",css:{left:"40rpx",top:"144rpx",background:"#fff",radius:"30rpx",width:"670rpx",height:"900rpx",shadow:"0 20rpx 48rpx rgba(0,0,0,.05)"}},{type:"image",src:"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLj1JIHX0icWAu4Jw920k6ZIAqNd9ZfHLalqWsweMLphLrcwRJCYr0hcyeY6Y5Kyaqibl6icTAykDWRA/132",mode:"widthFix",css:{left:"50rpx",top:"40rpx",width:"84rpx",height:"84rpx",radius:"50%",color:"#999",shadow:"0px 0px 7px #f0f0f0"}},{type:"text",text:"Usecloud",css:{color:"#fff",left:"154rpx",top:"40rpx",fontSize:"32rpx",fontWeight:"bold"}},{type:"text",text:"为您挑选了一个好物",css:{color:"#fff",left:"154rpx",top:"90rpx",fontSize:"24rpx"}},{type:"image",src:"https://vkceyugu.cdn.bspapp.com/VKCEYUGU-7e00db99-ad65-4b9f-a74b-61bccb92b124/11bd19fa-6a70-49fd-9e71-72950828f6a8.jpg",mode:"widthFix",css:{left:"72rpx",top:"176rpx",width:"606rpx",height:"606rpx",radius:"12rpx"}},{type:"text",text:"￥",css:{color:"#ff6a6c",left:"70rpx",top:"840rpx",fontSize:"26rpx"}},{type:"text",text:"1339.90",css:{color:"#ff6a6c",left:"94rpx",top:"812rpx",fontSize:"56rpx",fontWeight:"bold"}},{type:"text",text:"小米10 Xiaomi/小米手机小米10手机骁龙865 1亿像素双模5G官方正品 骁龙865旗舰处理器 1亿像素8K电影相机",css:{maxLines:2,width:"450rpx",color:"#333",left:"76rpx",top:"908rpx",fontSize:"30rpx",lineHeight:"50rpx"}},{type:"image",src:"",mode:"widthFix",css:{left:"545rpx",top:"875rpx",width:"135rpx",height:"135rpx",background:"#fff"}},{type:"view",css:{top:"1040rpx",height:"100rpx",background:"#ff6a6c"}},{type:"view",css:{left:"190rpx",top:"1078rpx",border:"1px solid #fff",width:"70rpx"}},{type:"text",text:"用云 · 让开发更简单",css:{color:"#fff",left:"276rpx",top:"1060rpx",fontSize:"24rpx"}},{type:"view",css:{left:"496rpx",top:"1078rpx",border:"1px solid #fff",width:"64rpx"}}]},getGoodsData:function(t,e,a){return this.goods.views[1].src=t.member_headimg,this.goods.views[2].text=t.member_nickname,this.goods.views[4].src=e.img,this.goods.views[6].text=""+e.price/100,this.goods.views[7].text=e.name+" "+e.name_pw,this.goods.views[8].src=a,this.goods},member:{},fxs:{}};e.default=i},"0286":function(t,e,a){"use strict";a.r(e);var i=a("1c4e"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"0568":function(t,e,a){"use strict";a.r(e);var i=a("624d"),n=a("5890");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("05f6");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"252f08b0",null,!1,i["a"],void 0);e["default"]=s.exports},"05f6":function(t,e,a){"use strict";var i=a("0ec5"),n=a.n(i);n.a},"0716":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.canvasId?a("v-uni-view",[t.use2dCanvas?a("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{id:t.canvasId,type:"2d"}}):a("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{"canvas-id":t.canvasId,id:t.canvasId,width:t.boardWidth*t.dpr,height:t.boardHeight*t.dpr}})],1):t._e()},n=[]},"07e7":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={usePopup:a("55cc").default,useQrcode:a("11f0").default,useListTitle:a("0568").default,useRate:a("c010").default,useTotop:a("61fe").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"swiper-area w-full pos-f"},[a("v-uni-swiper",{staticClass:"h-full pos-r",attrs:{"indicator-dots":!0,circular:"true",duration:"400"}},t._l(t.swiperDatas,(function(t,e){return a("v-uni-swiper-item",{key:e},[a("v-uni-view",{staticClass:"wh-full"},[a("v-uni-image",{staticClass:"wh-full loaded",attrs:{src:t.url,"lazy-load":"true",mode:"aspectFill"}})],1)],1)})),1)],1),a("v-uni-view",{staticClass:"goods-area bg-main padding"},[a("v-uni-view",{staticClass:"price-box dflex-b"},[a("v-uni-view",[a("v-uni-text",{staticClass:"price fwb fs-big"},[t._v(t._s(t.goods.price/100||""))]),t.goods.market_price>0?a("v-uni-text",{staticClass:"m-price"},[t._v(t._s(t.goods.market_price/100||""))]):t._e()],1),a("v-uni-view",{staticClass:"dflex fs-sm ft-dark"},[a("v-uni-view",{staticClass:"margin-right-sm dflex",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.shareOpen.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"iconfont iconfenxiang padding-right-xs"}),a("v-uni-text",[t._v("分享")])],1),a("v-uni-view",{staticClass:"margin-right-sm dflex"},[a("v-uni-view",{staticClass:"padding-right-xs padding-right-xs"},[t._v("已售")]),a("v-uni-text",[t._v(t._s(t.goods.sale_cnt||"0"))])],1),a("v-uni-view",{staticClass:"dflex"},[a("v-uni-view",{staticClass:"padding-right-xs padding-right-xs"},[t._v("库存")]),a("v-uni-text",[t._v(t._s(t.goods.stock_num||"0"))])],1)],1)],1),a("v-uni-text",{staticClass:"title fs"},[t._v(t._s(t.goods.name||"")+" "+t._s(t.goods.name_pw||""))])],1),a("v-uni-view",{staticClass:"gap"}),a("use-popup",{attrs:{mode:"bottom",bgclass:" "},model:{value:t.shareShow,callback:function(e){t.shareShow=e},expression:"shareShow"}},[a("v-uni-view",{staticClass:"share-area margin border-radius bg-main"},[a("v-uni-view",{staticClass:"tac w-full padding-sm"},[t._v("分享")]),a("v-uni-view",{staticClass:"padding-lr margin-bottom-xl dflex-b pos-r"},[a("v-uni-button",{staticClass:"dflex-c dflex-flow-c no-border btn ft-base",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createPoster.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"iconfont iconhaibao1 padding-lr-sm border-radius-c fs-xxxl"}),a("v-uni-view",{staticClass:"dflex-c fs-sm ft-dark"},[t._v("生成海报")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"qrcode tac padding-tb pos-f pos-tl-c"},[a("use-qrcode",{attrs:{onval:!0,val:t.posterQRcode,show:!1,"loading-text":"生成海报中",qrsize:"200"},on:{result:function(e){arguments[0]=e=t.$handleEvent(e),t.posterQRcodeResult.apply(void 0,arguments)}}})],1),t.posterShow&&!t.posterUrl?a("v-uni-view",{staticClass:"poster pos-f pos-tl-c padding"},[a("l-painter",{attrs:{"custom-style":"position: fixed;z-index: -1;top: -200vh;left: -100vw;",board:t.posterData,isRenderImage:!0},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.posterSuccess.apply(void 0,arguments)}}})],1):t._e(),a("use-popup",{attrs:{mode:"bottom",bgclass:" "},on:{close:function(e){arguments[0]=e=t.$handleEvent(e)}},model:{value:t.posterShow,callback:function(e){t.posterShow=e},expression:"posterShow"}},[a("v-uni-view",{staticClass:"padding border-radius margin"},[t.posterUrl?t._e():a("v-uni-view",{staticClass:"tac bg-main padding border-radius pos-a pos-l-c",staticStyle:{bottom:"45vh"}},[t._v("海报生成中，请稍等")]),a("v-uni-view",{staticClass:"w-full",staticStyle:{height:"70vh"}},[a("v-uni-image",{staticClass:"wh-full",attrs:{src:t.posterUrl,mode:"aspectFit"}})],1),a("v-uni-view",{staticClass:"padding w-full margin-top"},[a("v-uni-view",{staticClass:"dflex-b border-radius-big"},[a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base"},[t._v("长按图片保存到相册")])],1)],1)],1)],1),t.skuDatas.length>0?a("v-uni-view",{staticClass:"sku-area bg-main padding-lr padding-top padding-bottom-xs pos-r"},[a("v-uni-view",{staticClass:"con dflex dflex-wrap-w"},t._l(t.skuDatas,(function(e,i){return a("v-uni-view",{key:i,staticClass:"margin-right-sm margin-bottom-sm dflex bg-drak border-radius-lg padding-tb-16 padding-lr",class:{active:e.selected},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.selectSKU(e)}}},[a("v-uni-text",{staticClass:"fs-xs"},[t._v(t._s(e.name))])],1)})),1)],1):t._e(),t.skuDatas.length>0?a("v-uni-view",{staticClass:"gap"}):t._e(),a("use-list-title",{attrs:{title:"优惠",tip:"领取优惠券",color:"#ff6a6c",iconfont:"iconyouhui"},on:{goto:function(e){arguments[0]=e=t.$handleEvent(e),t.couponShow=!0}}}),a("use-popup",{attrs:{mode:"bottom"},on:{open:function(e){arguments[0]=e=t.$handleEvent(e),t.couponOpen.apply(void 0,arguments)}},model:{value:t.couponShow,callback:function(e){t.couponShow=e},expression:"couponShow"}},[a("v-uni-scroll-view",[a("v-uni-view",{staticClass:"coupon-area padding bg-drak"},t._l(t.couponDatas,(function(e,i){return a("v-uni-view",{key:i,staticClass:"coupon-item bg-main pos-r fs-xs"},[a("v-uni-view",{staticClass:"content pos-r padding dflex-b"},[a("v-uni-view",{},[a("v-uni-view",{staticClass:"margin-bottom-xs fs"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"ft-dark"},[t._v("有效期至 "+t._s(e.end_time.split(" ")[0]))])],1),a("v-uni-view",{staticClass:"tar"},[a("v-uni-view",{staticClass:"margin-bottom-xs price"},[t._v(t._s(e.price))]),e.order_amount>0?a("v-uni-view",{staticClass:"ft-dark"},[t._v("满"+t._s(e.order_amount)+"可用")]):a("v-uni-view",{staticClass:"ft-dark"},[t._v("不限")])],1),a("v-uni-view",{staticClass:"circle l"}),a("v-uni-view",{staticClass:"circle r"})],1),a("v-uni-view",{staticClass:"dflex-b"},[a("v-uni-text",{staticClass:"ft-dark padding-lr"},[t._v(t._s(e.type))]),a("v-uni-text",{staticClass:"ft-base padding-tb-sm padding-lr",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.couponReceive(e.id)}}},[t._v("立即领取")])],1)],1)})),1)],1)],1),a("v-uni-view",{staticClass:"bg-main padding-lr padding-top padding-bottom-xs pos-r",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tagShow=!0}}},[a("v-uni-view",{staticClass:"dflex dflex-wrap-w"},t._l(t.tagDatas,(function(e,i){return a("v-uni-view",{key:i,staticClass:"margin-right-sm margin-bottom-sm dflex"},[a("v-uni-view",{staticClass:"iconfont iconyiwancheng- fwb fs-xs ft-base margin-right-xs"}),a("v-uni-text",{staticClass:"fs-xs"},[t._v(t._s(e.name))])],1)})),1),a("v-uni-view",{staticClass:"icon-detail pos-a"},[a("v-uni-view",{staticClass:"iconfont iconxiangqing ft-dark fs-sm"})],1)],1),a("v-uni-view",{staticClass:"gap"}),a("use-popup",{attrs:{mode:"bottom"},model:{value:t.tagShow,callback:function(e){t.tagShow=e},expression:"tagShow"}},[a("v-uni-view",{staticClass:"tac w-full padding-sm"},[t._v("服务说明")]),a("v-uni-view",{staticClass:"padding-lr padding-bottom-sm"},t._l(t.tagDatas,(function(e,i){return a("v-uni-view",{key:i,staticClass:"margin-right-sm margin-bottom-sm dflex dflex-s"},[a("v-uni-view",{staticClass:"iconfont iconyiwancheng- fwb fs ft-base margin-right-xs"}),a("v-uni-view",[a("v-uni-view",{staticClass:"fs-sm"},[t._v(t._s(e.name))]),a("v-uni-view",{staticClass:"fs-xs"},[t._v("服务标签对应的描述")])],1)],1)})),1)],1),t.evaluateDatas.length>0?a("v-uni-view",{staticClass:"evaluate-area"},[a("use-list-title",{attrs:{title:t.evaluateTitle,tip:"好评率 100%",color:"#ff6a6c",iconfont:" "},on:{goto:function(e){arguments[0]=e=t.$handleEvent(e),t.toevaluate.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"padding-lr bg-main"},t._l(t.evaluateDatas,(function(e,i){return a("v-uni-view",{key:i,staticClass:"eva-box dflex-s padding-bottom-lg"},[a("v-uni-image",{staticClass:"portrait border-radius-c",attrs:{src:e.member_headimg}}),a("v-uni-view",{staticClass:"right-area flex1 padding-left-sm"},[a("v-uni-view",{staticClass:"dflex-b ft-dark"},[a("v-uni-view",{staticClass:"dflex"},[a("v-uni-text",{staticClass:"name margin-right"},[t._v(t._s(e.member_name))]),a("use-rate",{attrs:{value:e.review_cnt,disabled:!0}})],1),a("v-uni-text",{staticClass:"time fs-xs"},[t._v(t._s(t.$api.format(e.create_time,"yyyy-MM-dd")))])],1),a("v-uni-view",{staticClass:"fs-sm ft-main padding-top-xs padding-bottom-sm"},[t._v(t._s(e.review_content))]),a("v-uni-view",{staticClass:"dflex dflex-wrap-w"},t._l(e.review_imgs,(function(i,n){return a("v-uni-image",{key:n,attrs:{mode:"widthFix","lazy-load":!0,src:i},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.preview(e.review_imgs,i)}}})})),1),a("v-uni-view",{},[a("v-uni-text",{staticClass:"fs-xs ft-dark"},[t._v(t._s(e.goods_type||"套餐1"))])],1)],1)],1)})),1),a("v-uni-view",{staticClass:"gap"})],1):t._e(),a("v-uni-view",{staticClass:"detail-area bg-main"},[a("v-uni-view",{staticClass:"d-header padding dflex-c"},[a("v-uni-text",[t._v("图文详情")])],1),a("v-uni-rich-text",{staticClass:"pro-detail",attrs:{nodes:t.html_nodes}})],1),a("v-uni-view",{staticClass:"oper-area pos-f dflex-b w-full padding-lr-sm"},[a("v-uni-view",{staticClass:"btn-area dflex dflex-flow-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tohome.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont iconshouye-1"}),a("v-uni-text",[t._v("首页")])],1),a("v-uni-view",{staticClass:"btn-area dflex dflex-flow-c",class:{active:t.favorite},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tofavorite.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont",class:t.favorite?"iconshoucang-":"iconshoucang-01"}),a("v-uni-text",[t._v("收藏")])],1),a("v-uni-view",{staticClass:"flex1 btn-container dflex-b border-radius-big"},[t.goods.stock_num>0?a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-warn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tocart(t.goods)}}},[t._v("加入购物车")]):t._e(),t.goods.stock_num>0?a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tobuy(t.goods)}}},[t._v("立即购买")]):a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-disabled"},[t._v("已售磐")])],1)],1),a("use-totop",{ref:"usetop",attrs:{bottom:"120"}})],1)},o=[]},"0dd3":function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("c7eb")),o=i(a("1da1"));a("a9e3"),a("99af"),a("ac1f"),a("00b4"),a("e9c4"),a("d3b7"),a("d9e2"),a("d401");var r=a("fbfc"),s=a("a40b"),u=a("baa8"),c=a("1200"),d={name:"l-painter",props:{board:Object,pathType:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/60},beforeDelay:{type:Number,default:1e3/60},afterDelay:Number},data:function(){return{use2dCanvas:!1,draw:null,ctx:null,canvasHeight:0,canvasWidth:0,layout:new u.Layout,isDrawIng:!1}},computed:{canvasId:function(){return"l-painter".concat(this._uid)},size:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px;")},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var t=this.board||{},e=t.width;return(0,r.toPx)(this.width||e)},boardHeight:function(){var t=this.board||{},e=t.height,a=this.height,i=this.canvasHeight;return/^auto$/.test(a||e)?i||1:(0,r.toPx)(a||e)}},watch:{size:function(){}},mounted:function(){var t=this;this.$watch("board",function(){var e=(0,o.default)((0,n.default)().mark((function e(a,i){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("{}"!==JSON.stringify(a)&&a){e.next=2;break}return e.abrupt("return");case 2:if(!t.beforeDelay){e.next=5;break}return e.next=5,(0,r.sleep)(t.beforeDelay);case 5:t.render();case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),{deep:!0,immediate:!0})},methods:{update:function(t,e){var a=this;return(0,o.default)((0,n.default)().mark((function i(){return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.draw=null,a.isDrawIng=!1,i.next=4,new Promise((function(t){return a.$nextTick(t)}));case 4:return i.next=6,(0,r.sleep)(200);case 6:return i.abrupt("return",a.render(t,e));case 7:case"end":return i.stop()}}),i)})))()},render:function(){var t=arguments,e=this;return(0,o.default)((0,n.default)().mark((function a(){var i,u,c,d,l,f,h,v,p,g,m,b,x,w;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t.length>0&&void 0!==t[0]?t[0]:{},u=t.length>1&&void 0!==t[1]&&t[1],!e.isDrawIng){a.next=4;break}return a.abrupt("return",e.update(i,u));case 4:return e.isDrawIng=!0,c="{}"!=JSON.stringify(i),a.next=8,e.getContext();case 8:if(d=a.sent,l=e.use2dCanvas,f=e.boardWidth,h=e.boardHeight,v=e.board,p=e.canvas,g=e.isH5PathToBase64,m=e.sleep,b=e.afterDelay,!l||p){a.next=12;break}return a.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 12:if(e.boundary={top:0,left:0,width:f,height:h},u||d.clearRect(0,0,f,h),e.draw&&!c||(e.draw=new s.Draw(d,p,l,g,m),e.draw.listen("progressChange",(function(t){e.$emit("progress",t)}))),e.layout.init(d,e.boundary,g),!(c||v&&"{}"!=JSON.stringify(v))){a.next=20;break}return a.next=19,e.layout.calcNode(c?i:Object.assign({},v,{height:v.type||"auto"!=v.height?v.height:h}));case 19:e.node=a.sent;case 20:if(x=e.layout.layoutHeight,!/auto/.test(e.height||v.height)||e.canvasHeight){a.next=24;break}return e.canvasHeight=x,a.abrupt("return",e.update(i,u));case 24:if(!e.node){a.next=27;break}return a.next=27,null===(w=e.draw)||void 0===w?void 0:w.drawNode(e.node);case 27:return a.next=29,new Promise((function(t){return e.$nextTick(t)}));case 29:if(l||u){a.next=32;break}return a.next=32,e.canvasDraw(d);case 32:if(!b){a.next=35;break}return a.next=35,(0,r.sleep)(b);case 35:return e.$emit("done"),e.isRenderImage&&!u&&e.isDrawIng&&e.canvasToTempFilePath().then(function(){var t=(0,o.default)((0,n.default)().mark((function t(a){var i,o;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("base64"!=e.pathType){t.next=11;break}if(!/^data:image\/(\w+);base64/.test(a.tempFilePath)){t.next=5;break}e.$emit("success",a.tempFilePath),t.next=9;break;case 5:return t.next=7,(0,r.pathToBase64)(a.tempFilePath);case 7:i=t.sent,e.$emit("success",i);case 9:t.next=21;break;case 11:if("url"!=e.pathType){t.next=20;break}if(o="",!/^data:image\/(\w+);base64/.test(a.tempFilePath)){t.next=17;break}return t.next=16,(0,r.base64ToPath)(a.tempFilePath);case 16:o=t.sent;case 17:e.$emit("success",o),t.next=21;break;case 20:e.$emit("success",a.tempFilePath);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$emit("fail",new Error(JSON.stringify(t)))})),e.isDrawIng=!1,a.abrupt("return",Promise.resolve({ctx:d,draw:e.draw,node:e.node}));case 39:case"end":return a.stop()}}),a)})))()},custom:function(t){var e=this;return(0,o.default)((0,n.default)().mark((function a(){var i,o,r;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.render({},!0);case 2:return i=a.sent,o=i.ctx,r=i.draw,o.save(),a.next=8,t(o,r);case 8:return o.restore(),a.abrupt("return",Promise.resolve(!0));case 10:case"end":return a.stop()}}),a)})))()},single:function(){var t=arguments,e=this;return(0,o.default)((0,n.default)().mark((function a(){var i,o;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,e.render(i,!0);case 3:return o=a.sent,a.abrupt("return",Promise.resolve(o));case 5:case"end":return a.stop()}}),a)})))()},canvasDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx;return new Promise((function(a){e.draw(t,a)}))},getContext:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){var a,i,o,r,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.ctx||!t.inited){e.next=2;break}return e.abrupt("return",Promise.resolve(t.ctx));case 2:return a=t.type,t.use2dCanvas,i=t.dpr,o=t.boardWidth,r=t.boardHeight,s=function(){return new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).boundingClientRect().exec((function(a){if(a){var i=uni.createCanvasContext(t.canvasId,t);t.inited||(t.inited=!0,t.use2dCanvas=!1,t.canvas=a),t.ctx=(0,c.expand)(i),e(t.ctx)}}))}))},e.abrupt("return",s());case 7:return e.abrupt("return",new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).node().exec((function(n){var s=n[0].node;s||(t.use2dCanvas=!1,e(t.getContext()));var u=s.getContext(a);t.inited||(t.inited=!0,s.width=o*i,s.height=r*i,t.use2dCanvas=!0,t.canvas=s,u.scale(i,i)),t.ctx=c.adaptor?(0,c.adaptor)(u):(0,c.expand)(u),e(t.ctx)}))})));case 8:case"end":return e.stop()}}),e)})))()},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.use2dCanvas,i=this.canvasId,n=this.dpr,o=this.fileType,r=this.quality;return new Promise((function(s,u){var c=t.boundary||t,d=c.top,l=void 0===d?0:d,f=c.left,h=void 0===f?0:f,v=c.width,p=c.height,g=v*n,m=p*n,b=Object.assign({x:h,y:l,width:v,height:p,destWidth:g,destHeight:m,canvasId:i,fileType:o,quality:r,success:s,fail:u},e);a&&(delete b.canvasId,b.canvas=t.canvas),uni.canvasToTempFilePath(b,t)}))}}};e.default=d},"0ec5":function(t,e,a){var i=a("e708");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("db4d484e",i,!0,{sourceMap:!1,shadowMode:!1})},1200:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return Object.assign(t,i(t),{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,a,i,n){t.shadowOffsetX=e,t.shadowOffsetY=a,t.shadowBlur=i,t.shadowColor=n},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})},e.expand=function(t){return Object.assign(t,i(t))},a("99af");var i=function(t){return{setFonts:function(e){var a=e.fontFamily,i=void 0===a?"sans-serif":a,n=e.fontSize,o=void 0===n?14:n,r=e.fontWeight,s=void 0===r?"normal":r,u=e.textStyle,c=void 0===u?"normal":u;t.font="".concat(c," ").concat(s," ").concat(o,"px ").concat(i)}}}},"1aba":function(t,e,a){"use strict";a.r(e);var i=a("0716"),n=a("4325");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=s.exports},"1b4d":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}));var i={useMask:a("9ab2").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visibleSync?a("v-uni-view",{staticClass:"pos-f pos-full overflow-hidden use-popup",class:{"use-popup-visible":t.showPopup},style:[t.customStyle]},[a("use-mask",{attrs:{show:t.showPopup&&t.mask,maskClickAble:t.maskCloseAble},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.maskClick.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"pos-a use-popup-content",class:[t.bgclass,t.safeAreaInsetBottom?"safe-area-inset-bottom":"","use-popup-"+t.mode,t.showPopup?"use-popup-content-visible":"",t.zoom&&"center"==t.mode?"use-animation-zoom":""],style:[t.style],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:[function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},function(e){arguments[0]=e=t.$handleEvent(e),t.modeCenterClose(t.mode)}]}},["center"==t.mode?a("v-uni-view",{staticClass:"bg-main pos-r use-mode-center-box",style:[t.centerStyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)}}},[t._t("default")],2):[t._t("default")]],2)],1):t._e()},o=[]},"1c4e":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("ac1f"),a("00b4"),a("99af");var i={props:{show:{type:Boolean,default:!1},mode:{type:String,default:"left"},mask:{type:Boolean,default:!0},bgclass:{type:String,default:"bg-main"},length:{type:[Number,String],default:"auto"},zoom:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!0},customStyle:{type:Object,default:function(){return{}}},value:{type:Boolean,default:!1},popup:{type:Boolean,default:!0},borderRadius:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:"10020"}},data:function(){return{visibleSync:!1,showPopup:!1}},watch:{value:function(t){t?this.open():this.showPopup&&this.close()}},computed:{style:function(){var t={},e="100%",a=/%$/.test(this.length)||"auto"==this.length?this.length:uni.upx2px(this.length)+"px";if("left"!=this.mode&&"top"!=this.mode||(e="auto"==a?"-100%":"-"+a),"left"==this.mode||"right"==this.mode?t={width:a,height:"100%",transform:"translate3D(".concat(e,",0px,0px)")}:"top"!=this.mode&&"bottom"!=this.mode||(t={width:"100%",height:a,transform:"translate3D(0px,".concat(e,",0px)")}),t.zIndex=this.zIndex,this.borderRadius){switch(this.mode){case"top":t.borderRadius="0 0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx");break;case"right":t.borderRadius="".concat(this.borderRadius,"rpx 0 0 ").concat(this.borderRadius,"rpx");break;case"bottom":t.borderRadius="".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0 0");break;case"left":t.borderRadius="0 ".concat(this.borderRadius,"rpx ").concat(this.borderRadius,"rpx 0");break;default:break}t.overflow="hidden"}return t},centerStyle:function(){var t={},e=/%$/.test(this.length)||"auto"==this.length?this.length:uni.upx2px(this.length)+"px";return t.width=e,t.zIndex=this.zIndex,this.borderRadius&&(t.borderRadius="".concat(this.borderRadius,"rpx"),t.overflow="hidden"),t}},created:function(){var t=this;this.visibleSync=this.value,this.$api.timerout((function(){t.showPopup=t.value}),30)},methods:{open:function(){this.change("visibleSync","showPopup",!0)},close:function(){this.change("showPopup","visibleSync",!1)},maskClick:function(){this.close()},modeCenterClose:function(t){"center"==t&&this.maskCloseAble&&this.close()},change:function(t,e,a){var i=this;this.popup&&this.$emit("input",a),this[t]=a,this.$api.timerout((function(){i[e]=a,i.$emit(a?"open":"close")}),a?30:100)}}};e.default=i},"264e":function(t,e,a){"use strict";var i=a("86f6"),n=a.n(i);n.a},"2b23":function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3"),a("14d9");var i={props:{value:{type:[Number,String],default:0},margin:{type:[Number,String],default:0},max:{type:[Number,String],default:5},disabled:{type:[Boolean,String],default:!1}},data:function(){return{maxSync:this.max,valueSync:this.value}},computed:{stars:function(){for(var t=Number(this.maxSync)?Number(this.maxSync):5,e=Number(this.valueSync)?Number(this.valueSync):0,a=[],i=Math.floor(e),n=Math.ceil(e),o=0;o<t;o++)i>o?a.push({activeWitch:"100%"}):n-1===o?a.push({activeWitch:100*(e-i)+"%"}):a.push({activeWitch:"0"});return a}},methods:{onClick:function(t){this.disabled||"true"===this.disabled||(this.valueSync=t+1,this.$emit("change",{value:this.valueSync}))}}};e.default=i},4325:function(t,e,a){"use strict";a.r(e);var i=a("0dd3"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"48cf":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"use-rate dflex"},t._l(t.stars,(function(e,i){return a("v-uni-view",{key:i,staticClass:"pos-r margin-left-sm",style:{marginLeft:t.margin+"px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick(i)}}},[a("v-uni-view",{staticClass:"iconfont iconshoucang-01 ft-dark"}),a("v-uni-view",{staticClass:"pos-a active",style:{width:e.activeWitch}},[a("v-uni-view",{staticClass:"iconfont iconshoucang- ft-base"})],1)],1)})),1)},n=[]},"4d5f":function(t,e,a){"use strict";a.r(e);var i=a("d2b9"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"4f38":function(t,e,a){"use strict";var i=a("c82d"),n=a.n(i);n.a},5079:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-popup[data-v-d84d083e]{z-index:10010}.use-popup-content[data-v-d84d083e]{z-index:10020;transition:all .25s ease-in-out}.use-popup-top[data-v-d84d083e]{top:0;right:0;left:0}.use-popup-right[data-v-d84d083e]{top:0;right:0;bottom:0}.use-popup-bottom[data-v-d84d083e]{right:0;bottom:0;left:0}.use-popup-left[data-v-d84d083e]{top:0;bottom:0;left:0}.use-popup-center[data-v-d84d083e]{display:flex;align-items:center;justify-content:center;flex-direction:column;top:0;right:0;bottom:0;left:0;opacity:0;z-index:99999}.use-mode-center-box[data-v-d84d083e]{min-width:%?100?%;min-height:%?100?%}.use-popup-content-visible.use-popup-center[data-v-d84d083e]{-webkit-transform:scale(1);transform:scale(1);opacity:1}.use-animation-zoom[data-v-d84d083e]{-webkit-transform:scale(1.15);transform:scale(1.15)}.use-popup-content-visible[data-v-d84d083e]{-webkit-transform:translateZ(0)!important;transform:translateZ(0)!important}',""]),t.exports=e},5569:function(t,e,a){"use strict";a.r(e);var i=a("2b23"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"55cc":function(t,e,a){"use strict";a.r(e);var i=a("1b4d"),n=a("0286");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("4f38");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"d84d083e",null,!1,i["a"],void 0);e["default"]=s.exports},5707:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{type:{type:String,default:"square"},title:{type:String,default:"列表标题"},size:{type:String,default:"28"},fwt:{type:String,default:"normal"},tip:{type:[String,Number],default:""},iconfont:{type:String,default:"icondaifahuo-"},color:{type:String,default:"#C0C4CC"},rightIcon:{type:String,default:"iconjiantou-01"},rightColor:{type:String,default:"#c0c0c0"}},data:function(){return{}},methods:{goto:function(){console.log("goto"),this.$emit("goto",{type:"goto"})}}};e.default=i},5890:function(t,e,a){"use strict";a.r(e);var i=a("5707"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},"61fe":function(t,e,a){"use strict";a.r(e);var i=a("89d6"),n=a("ef21");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("be0b");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"74bbadd3",null,!1,i["a"],void 0);e["default"]=s.exports},"624d":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:"round"==t.type?"padding-lr-sm":""},[a("v-uni-view",{staticClass:"use-list-title dflex-b padding-lr w-full bg-main",class:"round"==t.type?"border-radius":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goto.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"dflex"},[t.iconfont&&" "!=t.iconfont?a("v-uni-view",{staticClass:"iconfont __left margin-right-sm",class:t.iconfont,style:{color:t.color}}):t._e(),a("v-uni-text",{style:{fontSize:t.size+"rpx",fontWeight:t.fwt}},[t._v(t._s(t.title))])],1),a("v-uni-view",{staticClass:"dflex"},[t.tip?a("v-uni-text",{staticClass:"tip margin-right-xs"},[t._v(t._s(t.tip))]):t._e(),a("v-uni-view",{staticClass:"iconfont fs-sm",class:t.rightIcon,style:{color:t.rightColor}})],1)],1)],1)},n=[]},6608:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"use-mask pos-f pos-full overflow-hidden",class:[t.show?"use-mask-show":""],style:[t.maskStyle],on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}},[t._t("default")],2)},n=[]},6675:function(t,e,a){var i=a("a50f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("db89ad2e",i,!0,{sourceMap:!1,shadowMode:!1})},8016:function(t,e){},"86f6":function(t,e,a){var i=a("8c90");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("174a09b8",i,!0,{sourceMap:!1,shadowMode:!1})},"89d6":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"use-totop fixed-top animated",class:t.visible?"fade-in":"dn",style:{bottom:t.bottom+"rpx",right:t.right+"rpx"},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.totop.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"iconfont iconzhiding"})],1)},n=[]},"8c90":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-rate .active[data-v-3e76155c]{overflow:hidden;top:0}',""]),t.exports=e},9517:function(t,e,a){"use strict";var i=a("b701"),n=a.n(i);n.a},"9ab2":function(t,e,a){"use strict";a.r(e);var i=a("6608"),n=a("4d5f");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("9517");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"08557517",null,!1,i["a"],void 0);e["default"]=s.exports},a40b:function(t,e,a){"use strict";var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0,a("cb29"),a("13d5"),a("d3b7"),a("4de4"),a("ac1f"),a("00b4"),a("e9c4"),a("c975"),a("b64b"),a("5319"),a("caad"),a("2532"),a("07ac"),a("d81d"),a("7a82");var n=i(a("b85c")),o=i(a("c7eb")),r=i(a("1da1")),s=i(a("ade3")),u=i(a("3835")),c=i(a("d4ec")),d=i(a("bee2")),l=a("fbfc"),f=a("eccf"),h=i(a("8016")),v=function(){function t(e,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;(0,c.default)(this,t),this.ctx=e,this.canvas=a||null,this.use2dCanvas=i,this.isH5PathToBase64=n,this.sleep=o,this.count=0,this.progress=0}return(0,d.default)(t,[{key:"roundRect",value:function(t,e,a,i,n){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(n<0)){var s=this.ctx;if(s.beginPath(),n){var u=n||{},c=u.borderTopLeftRadius,d=void 0===c?n||0:c,l=u.borderTopRightRadius,f=void 0===l?n||0:l,h=u.borderBottomRightRadius,v=void 0===h?n||0:h,p=u.borderBottomLeftRadius,g=void 0===p?n||0:p;s.arc(t+a-v,e+i-v,v,0,.5*Math.PI),s.lineTo(t+g,e+i),s.arc(t+g,e+i-g,g,.5*Math.PI,Math.PI),s.lineTo(t,e+d),s.arc(t+d,e+d,d,Math.PI,1.5*Math.PI),s.lineTo(t+a-f,e),s.arc(t+a-f,e+f,f,1.5*Math.PI,2*Math.PI),s.lineTo(t+a,e+i-v)}else s.rect(t,e,a,i);s.closePath(),r&&s.stroke(),o&&s.fill()}}},{key:"setTransform",value:function(t,e){var a=e.transform,i=e.transformOrigin,n=void 0===i?"center center":i,o=this.ctx,r=a||{},s=r.scaleX,u=void 0===s?1:s,c=r.scaleY,d=void 0===c?1:c,f=r.translateX,h=void 0===f?0:f,v=r.translateY,p=void 0===v?0:v,g=r.rotate,m=void 0===g?0:g,b=r.skewX,x=void 0===b?0:b,w=r.skewY,y=void 0===w?0:w,k=t.left,_=t.top,C=t.width,S=t.height;h=(0,l.toPx)(h,C)||0,p=(0,l.toPx)(p,S)||0;var P={top:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),bottom:(0,l.toPx)("100%",1)},T={left:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),right:(0,l.toPx)("100%",1)};n=n.split(" ").filter((function(t,e){return e<2})).reduce((function(t,e){if(/\d+/.test(e)){var a=(0,l.toPx)(e,1,!0)/(/px|rpx$/.test(e)?(0,l.isNumber)(t.x)?S:C:1);return(0,l.isNumber)(t.x)?Object.assign(t,{y:a}):Object.assign(t,{x:a})}return(0,l.isNumber)(T[e])&&!(0,l.isNumber)(t.x)?Object.assign(t,{x:T[e]}):Object.assign(t,{y:P[e]||.5})}),{}),o.scale(u,d);var M={x:C*(u>0?1:-1)*n.x+(k+h)/u,y:S*(d>0?1:-1)*n.y+(_+p)/d};return o.translate(M.x,M.y),m&&o.rotate(m*Math.PI/180),(x||y)&&o.transform(1,Math.tan(y*Math.PI/180),Math.tan(x*Math.PI/180),1,0,0),{x:-C*n.x,y:-S*n.y,w:C,h:S}}},{key:"setBackground",value:function(t,e,a){var i=this.ctx;t?f.GD.isGradient(t)?f.GD.doGradient(t,e,a,i):i.setFillStyle(t):i.setFillStyle("transparent")}},{key:"setShadow",value:function(t){var e=t.boxShadow,a=void 0===e?[]:e,i=this.ctx;if(a.length){var n=(0,u.default)(a,4),o=n[0],r=n[1],s=n[2],c=n[3];i.setShadow(o,r,s,c)}}},{key:"setBorder",value:function(t,e){var a,i=this.ctx,n=t.width,o=t.height,r=e.border,u=e.borderBottom,c=e.borderTop,d=e.borderRight,l=e.borderLeft,f=e.borderRadius,h=r||{},v=h.borderWidth,p=void 0===v?0:v,g=h.borderStyle,m=h.borderColor,b=u||{},x=b.borderBottomWidth,w=void 0===x?p:x,y=b.borderBottomStyle,k=void 0===y?g:y,_=b.borderBottomColor,C=void 0===_?m:_,S=c||{},P=S.borderTopWidth,T=void 0===P?p:P,M=S.borderTopStyle,I=void 0===M?g:M,R=S.borderTopColor,$=void 0===R?m:R,O=d||{},B=(O.borderRightWidth,O.borderRightStyle,O.borderRightColor,l||{}),D=B.borderLeftWidth,z=void 0===D?p:D,N=B.borderLeftStyle,L=void 0===N?g:N,j=B.borderLeftColor,F=void 0===j?m:j,E=f||(a={r:f},(0,s.default)(a,"r",f),(0,s.default)(a,"r",f),(0,s.default)(a,"r",f),a),W=E.borderTopLeftRadius,A=void 0===W?f||0:W,H=E.borderTopRightRadius,U=void 0===H?f||0:H,q=E.borderBottomRightRadius,G=void 0===q?f||0:q,J=E.borderBottomLeftRadius,Q=void 0===J?f||0:J;if(u||l||c||d||r){var X=function(t,e,a){"dashed"==e?i.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&i.setLineDash([t,t]),i.setStrokeStyle(a)},Y=function(t,e,a,n,o,r,s,u,c,d,l,f,h,v){i.save(),i.setLineWidth(f),X(f,h,v),i.beginPath(),i.arc(t,e,s,Math.PI*c,Math.PI*d),i.lineTo(a,n),i.arc(o,r,u,Math.PI*d,Math.PI*l),i.stroke(),i.restore()};i.save(),this.setOpacity(e);var Z=this.setTransform(t,e),K=Z.x,V=Z.y;r&&(i.setLineWidth(p),X(p,g,m),this.roundRect(K,V,n,o,f,!1,!!m),i.restore()),u&&Y(K+n-G,V+o-G,K+Q,V+o,K+Q,V+o-Q,G,Q,.25,.5,.75,w,k,C),l&&Y(K+Q,V+o-Q,K,V+A,K+A,V+A,Q,A,.75,1,1.25,z,L,F),c&&Y(K+A,V+A,K+n-U,V,K+n-U,V+U,A,U,1.25,1.5,1.75,T,I,$),d&&Y(K+n-U,V+U,K+n,V+o-G,K+n-G,V+o-G,U,G,1.75,2,.25,T,I,$)}}},{key:"setOpacity",value:function(t){var e=t.opacity,a=void 0===e?1:e;this.ctx.setGlobalAlpha(a)}},{key:"drawView",value:function(t,e){var a=this.ctx,i=t.width,n=t.height,o=e||{},r=o.borderRadius,s=void 0===r?0:r,u=o.backgroundColor;a.save(),this.setOpacity(e);var c=this.setTransform(t,e),d=c.x,l=c.y;this.setShadow(e),this.setBackground(u,i,n),this.roundRect(d,l,i,n,s,!0,!1),a.restore(),this.setBorder(t,e)}},{key:"drawImage",value:function(){var t=(0,r.default)((0,o.default)().mark((function t(e){var a,i,n,s=this,u=arguments;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:{},i=u.length>2&&void 0!==u[2]?u[2]:{},n=!(u.length>3&&void 0!==u[3])||u[3],t.next=5,new Promise(function(){var t=(0,r.default)((0,o.default)().mark((function t(u,c){var d,f,h,v,p,g,m,b,x,w,y,k,_,C,S,P,T,M,I,R,$,O,B,D,z,N,L,j,F,E,W,A,H,U,q;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(d=s.ctx,f=s.sleep,h=s.canvas,v=i.borderRadius,p=void 0===v?0:v,g=i.mode,m=i.padding,b=void 0===m?{}:m,x=i.backgroundColor,w=b.paddingTop,y=void 0===w?0:w,k=b.paddingLeft,_=void 0===k?0:k,C=b.paddingRight,S=void 0===C?0:C,P=b.paddingBottom,T=void 0===P?0:P,M=a.left,I=a.top,R=a.width,$=a.height,d.save(),n||(s.setOpacity(i),O=s.setTransform(a,i),B=O.x,D=O.y,x&&s.setBackground(x,R,$),M=B,I=D,s.setShadow(i),s.roundRect(M,I,R,$,p,!!p,!1)),d.clip(),z=function(t){M+=_,I+=y,R=R-_-S,$=$-y-T;var e=t.width,a=t.height,i=t.src,n=0,o=0,r=R/$,s=e/a;switch(e||(g="scaleToFill"),g){case"aspectFit":r>=s?(e=$*s,a=$,n=M+Math.round(R-e)/2,o=I):(e=R,a=R/s,n=M,o=I+Math.round($-a)/2),d.drawImage(i,n,o,e,a);break;case"aspectFill":r>=s?a=e/r:(e=a*r,n=Math.round(((t.width||R)-e)/2)),d.drawImage(i,n,o,e,a,M,I,R,$);break;default:d.drawImage(i,M,I,R,$)}},N=function(){d.restore(),s.setBorder(a,i),setTimeout(u,f)},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s.use2dCanvas){var a=h.createImage();a.onload=function(){t.src=a,z(t),N()},a.onerror=(0,r.default)((0,o.default)().mark((function a(){return(0,o.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e&&console.error("createImage fail: ".concat(JSON.stringify(t))),u(!0);case 2:case"end":return a.stop()}}),a)}))),a.src=t.src}else z(t),N()},"string"!==typeof e){t.next=21;break}return t.next=14,(0,l.getImageInfo)(e,s.isH5PathToBase64);case 14:j=t.sent,F=j.path,E=j.width,W=j.height,L({src:F,width:E,height:W}),t.next=34;break;case 21:t.prev=21,L(e),t.next=34;break;case 25:return t.prev=25,t.t0=t["catch"](21),t.next=29,(0,l.getImageInfo)(e.originSrc,s.isH5PathToBase64,!0);case 29:A=t.sent,H=A.path,U=A.width,q=A.height,L({src:H,width:U,height:q},!0);case 34:case"end":return t.stop()}}),t,null,[[21,25]])})));return function(e,a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawText",value:function(t,e,a,i){var n=this.ctx,o=e.width,r=e.height,s=e.offsetLeft,u=void 0===s?0:s,c=e.offsetTop,d=void 0===c?0:c,f=a.color,h=void 0===f?"#000000":f,v=a.lineHeight,p=void 0===v?"1.4em":v,g=a.fontSize,m=void 0===g?14:g,b=a.fontWeight,x=a.fontFamily,w=a.textStyle,y=a.textAlign,k=void 0===y?"left":y,_=(a.verticalAlign,a.backgroundColor),C=a.maxLines,S=(a.display,a.padding,a.borderRadius),P=void 0===S?0:S,T=a.textDecoration;if(p=(0,l.toPx)(p,m),t){n.save(),this.setOpacity(a);var M=this.setTransform(e,a),I=M.x,R=M.y;n.setTextBaseline("middle"),n.setFonts({fontFamily:x,fontSize:m,fontWeight:b,textStyle:w}),n.setTextAlign(k),n.translate(0,-m/2),R+=m,_&&(this.setBackground(_,o,r),this.roundRect(I,R-m/2,o,r,P,1,0)),R+=d,this.setShadow(a),n.setFillStyle(h);var $={};if(i&&i.word.length>0)for(var O=0;O<i.word.length;O++){var B=0,D=void 0;while((D=t.indexOf(i.word[O],B))>-1){$[D]={reset:!0};for(var z=0;z<i.word[O].length;z++)$[D+z]={reset:!0};B=D+1}}switch(k){case"left":break;case"center":I+=.5*o;break;case"right":I+=o;break;default:break}var N=n.measureText(t).width,L=Math.ceil(N/o)*p,j=Math.ceil((r-L)/2);j<0&&(j=0);var F=function(t,e,a){var i=t;switch(k){case"left":t=t,i+=a;break;case"center":t-=a/2,i=t+a;break;case"right":i=t,t-=a;break;default:break}T&&(n.setLineWidth(m/13),n.beginPath(),/\bunderline\b/.test(T)&&(n.moveTo(t,e-.5*m),n.lineTo(i,e-.5*m)),/\boverline\b/.test(T)&&(n.moveTo(t,e-1.5*m),n.lineTo(i,e-1.5*m)),/\bline-through\b/.test(T)&&(n.moveTo(t,e-m),n.lineTo(i,e-m)),n.closePath(),n.setStrokeStyle(h),n.stroke())},E=function(t,e,a){for(var o=Object.keys($),r=0;r<o.length;r++){var s=$[o[r]];n.save(),n.setFillStyle(i.color),s.char&&n.fillText(s.char,s.x,s.y),n.restore()}},W=function(t,e){if(t){var a=Math.round(n.measureText(" ").width),i=Math.round(n.measureText("　").width),o=Math.round(n.measureText(e).width),r="",s=1;return o==i?(r="　",s=1):(r=" ",s=Math.ceil(o/a)),{char:new Array(s).fill(r).join(""),width:o}}return{char:e}},A=function(t,e,a,i){$[e].x=a,$[e].y=i,$[e].char=t},H=function(t,e,a,i,o){var r=o.startIndex,s=void 0===r?0:r,u=(o.endIndex,a);/·/.test(a)&&(u=u.replace(/·/g,"."),i=n.measureText(u).width);for(var c=a.split(""),d=t,l=0;l<e.length;l++){var f=e[l],h=f-s,v=c[h];if(v){var p=W($[f],v),g=p.char,m=p.width;c[h]=g,"center"==k&&(d=t-.5*(i-m)),"right"==k&&(d=t-i+m),A(v,f,d+n.measureText(u.substring(0,h)).width,R+U)}}return c},U=Math.ceil((p-m)/2)+1;if(N+u<=o&&!t.includes("\n")){I+=u;var q=Object.keys($),G="";return q&&(G=H(I,q,t,N,{}),E()),n.fillText(G.join(""),I,R+U),R+=p,F(I,R,N),n.restore(),void this.setBorder(e,a)}for(var J=t.split(""),Q=R,X=I,Y="",Z=0,K=0,V=0;V<=J.length;V++){var tt=J[V]||"",et="\n"===tt,at=""==tt;tt=et?"":tt;var it=Y+tt,nt=n.measureText(it).width;if(Z>=C)break;if(0==Z?(nt+=u,X=I+u):(nt=nt,X=I),nt>o||et||at){var ot=V;if(Z++,Y=at&&nt<=o?it:Y,Z===C&&nt>o){while(n.measureText("".concat(Y,"...")).width>o){if(Y.length<=1)break;Y=Y.substring(0,Y.length-1)}Y+="..."}var rt=Object.keys($),st="";if(rt&&(st=H(I,rt,Y,nt,{startIndex:K,endIndex:ot}),E()),n.fillText(st.join(""),X,R+U),R+=p,F(X,R,nt),Y=tt,K=ot+(et?1:0),R+p>Q+r)break}else Y=it}n.restore(),this.setBorder(e,a)}}},{key:"drawNode",value:function(){var t=(0,r.default)((0,o.default)().mark((function t(e){var a,i,r,s,u,c,d,l,f,v,p,g,m,b;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.layoutBox,i=e.computedStyle,r=e.attributes,s=e.name,u=e.rules,c=e.children,d=e.parent,d.hasOwnProperty("id")||(this.count=Math.max(e.count||1,this.count)),l=e.attributes,f=l.src,v=l.text,"view"!==s){t.next=7;break}this.drawView(a,i),t.next=13;break;case 7:if("image"!==s||!f){t.next=12;break}return t.next=10,this.drawImage(r,a,i,!1);case 10:t.next=13;break;case 12:"text"===s?this.drawText(v,a,i,u):"qrcode"===s&&null!==h.default&&void 0!==h.default&&h.default.api&&h.default.api.draw(v,this,a,i);case 13:if(this.progress=(this.progress||0)+1,c){t.next=16;break}return t.abrupt("return");case 16:p=Object.values?Object.values(c):Object.keys(c).map((function(t){return c[t]})),g=(0,n.default)(p),t.prev=18,g.s();case 20:if((m=g.n()).done){t.next=26;break}return b=m.value,t.next=24,this.drawNode(b);case 24:t.next=20;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](18),g.e(t.t0);case 31:return t.prev=31,g.f(),t.finish(31);case 34:case"end":return t.stop()}}),t,this,[[18,28,31,34]])})));return function(e){return t.apply(this,arguments)}}()},{key:"listen",value:function(t,e){var a=this;"progressChange"==t&&Object.defineProperty(this,"progress",{configurable:!0,set:function(t){a._progress=t,e(t/a.count)},get:function(){return a._progress}})}}]),t}();e.Draw=v},a50f:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-f3eeca38]{background:#f5f5f5;padding-bottom:%?120?%}body.?%PAGE?%[data-v-f3eeca38]{background:#f5f5f5}contact-button[data-v-f3eeca38]{display:flex;justify-content:center;align-items:center;width:50px;height:50px}.fixed-top[data-v-f3eeca38]{bottom:%?230?%}\n/* 01. 轮播区 */.swiper-area[data-v-f3eeca38]{height:%?720?%;top:0;z-index:-1}.swiper-area[data-v-f3eeca38]{margin-top:calc(44px + env(safe-area-inset-top));margin-top:44px}\n/* 02. 商品数据区 */.goods-area[data-v-f3eeca38]{margin-top:%?720?%}.goods-area .price-box[data-v-f3eeca38]{display:flex;align-items:baseline}.goods-area .title[data-v-f3eeca38]{color:#303133;height:%?46?%;line-height:%?46?%}.share-area .vertical-line[data-v-f3eeca38]{right:50%;height:40%}\n/* 03. 规格区 */.sku-area .active[data-v-f3eeca38]{background:#ff6a6c;color:#fff!important}\n/* 04. 服务区 */.icon-detail[data-v-f3eeca38]{right:%?30?%;top:%?24?%}\n/* 05. 评价 */.evaluate-area .portrait[data-v-f3eeca38]{flex-shrink:0;width:%?80?%;height:%?80?%}.evaluate-area .right-area uni-image[data-v-f3eeca38]{margin-right:%?10?%;margin-bottom:%?10?%;height:%?200?%;width:30%}\n/* 06. 详情区 */.detail-area[data-v-f3eeca38]{\n  /* 产品详情 */}.detail-area .d-header[data-v-f3eeca38]{font-size:%?30?%;color:#303133;position:relative}.detail-area .d-header uni-text[data-v-f3eeca38]{padding:0 %?20?%;background:#fff;position:relative;z-index:1}.detail-area .d-header[data-v-f3eeca38]:after{position:absolute;left:50%;top:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:%?300?%;height:0;content:"";border-bottom:1px solid #ccc}.detail-area .pro-detail[data-v-f3eeca38]{width:100%;overflow:hidden;-webkit-touch-callout:none}.detail-area .pro-detail img[data-v-f3eeca38]{width:100%;max-width:100%;overflow:hidden}\n/* 07. 操作区 */.oper-area[data-v-f3eeca38]{left:0;bottom:0;background:hsla(0,0%,100%,.95);box-shadow:0 0 %?20?% 0 #f0f0f0;height:%?100?%;z-index:95}.oper-area .btn-area[data-v-f3eeca38]{font-size:%?24?%;color:#75787d;width:%?96?%}.oper-area .btn-area .iconfont[data-v-f3eeca38]{font-size:%?40?%;line-height:%?48?%}\n/* 优惠券区 */.coupon-area[data-v-f3eeca38]{max-height:60vh;min-height:30vh}.coupon-area .coupon-item[data-v-f3eeca38]{margin-bottom:%?20?%}.coupon-area .coupon-item[data-v-f3eeca38]:last-child{margin-bottom:0}.coupon-area .coupon-item .content[data-v-f3eeca38]:after{position:absolute;left:0;bottom:0;content:"";width:100%;height:0;border-bottom:1px dashed #f3f3f3;-webkit-transform:scaleY(50%);transform:scaleY(50%)}.coupon-area .coupon-item .circle[data-v-f3eeca38]{position:absolute;bottom:%?-10?%;z-index:10;width:%?20?%;height:%?20?%;background:#f5f5f5;border-radius:50%}.coupon-area .coupon-item .circle.r[data-v-f3eeca38]{right:%?-6?%}.coupon-area .coupon-item .circle.l[data-v-f3eeca38]{left:%?-6?%}',""]),t.exports=e},b0af:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{top:{type:Number,default:100},right:{type:String,default:"30"},bottom:{type:String,default:"30"},duration:{type:Number,default:120},scrollTop:{type:Number,default:0}},watch:{scrollTop:function(t,e){this.s_top=t,this.change()}},data:function(){return{s_top:0,visible:!1}},methods:{totop:function(){uni.pageScrollTo({scrollTop:0,duration:this.duration}),this.$emit("to",{type:"to",scrollTop:this.s_top})},change:function(t){this.s_top=t,this.s_top>this.top?this.visible||(this.visible=!0):this.visible&&(this.visible=!1)}}};e.default=i},b701:function(t,e,a){var i=a("c258");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("445676b5",i,!0,{sourceMap:!1,shadowMode:!1})},baa8:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0,a("e9c4"),a("14d9"),a("d3b7"),a("b64b"),a("ac1f"),a("00b4"),a("d81d"),a("466d"),a("5319"),a("caad"),a("2532");var n=i(a("53ca")),o=i(a("3835")),r=i(a("ade3")),s=i(a("c7eb")),u=i(a("1da1")),c=i(a("d4ec")),d=i(a("bee2")),l=a("fbfc"),f=function(){function t(){(0,c.default)(this,t),this.layoutHeight=0,this.layoutWidth=0,this.uuid=0,this.count=0}return(0,d.default)(t,[{key:"init",value:function(t,e,a){this.ctx=t,this.root=e,this.layoutWidth=e.width||0,this.layoutHeight=e.height||0,this.uuid=0,this.isH5PathToBase64=a}},{key:"getNodeTree",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(e){var a,i,n,o,r,u,c,d,l,f,h,v,p,g,m,b,x,w,y=arguments;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=y.length>1&&void 0!==y[1]?y[1]:{},i=y.length>2&&void 0!==y[2]?y[2]:0,n=y.length>3&&void 0!==y[3]?y[3]:[],o=y.length>4?y[4]:void 0,this.count++,r=Object.assign({},this.getComputedStyle(e,a,i)),t.next=8,this.getAttributes(e);case 8:if(u=t.sent,c={id:this.uuid++,parent:a,computedStyle:r,rules:e.rules,attributes:Object.assign({},u),name:(null===e||void 0===e?void 0:e.type)||"view",isRoot:!(null!==e&&void 0!==e&&e.type)&&"{}"==JSON.stringify(a)},"{}"!==JSON.stringify(a)||e.type?c.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(c,a,i,n,o)):(d=r.left,l=void 0===d?0:d,f=r.top,h=void 0===f?0:f,v=r.width,p=void 0===v?0:v,g=r.height,m=void 0===g?0:g,c.layoutBox={left:l,top:h,width:p,height:m}),null===e||void 0===e||!e.views){t.next=26;break}b=[],c.children=[],x=0;case 15:if(!(x<e.views.length)){t.next=25;break}return w=e.views[x],t.t0=b,t.next=20,this.getNodeTree(w,c,x,b,e);case 20:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 22:x++,t.next=15;break;case 25:c.children=b;case 26:return t.abrupt("return",c);case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getComputedStyle",value:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},s=t.name||t.type,u="{}"!=JSON.stringify(a)||s?t.css:t;if(!u)return i;var c=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"];a.computedStyle&&c.forEach((function(t){(u[t]||a.computedStyle[t])&&(u[t]=u[t]||a.computedStyle[t])}));for(var d=function(){var t=h[f],c=u[t];if("views"==t)return"continue";if(/^(box)?shadow$/i.test(t)){var d=c.split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t):t}));return i.boxShadow=d,"continue"}if(/^border/i.test(t)&&!/radius$/i.test(t)){var v,p=t.match(/^border([BTRLa-z]+)?/)[0],g=t.match(/[W|S|C][a-z]+/),m=c.replace(/([\(,])\s+|\s+([\),])/g,"$1$2").split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t,"",!0):t}));return i[p]=(v={},(0,r.default)(v,p+"Width",((0,l.isNumber)(m[0])?m[0]:0)||1),(0,r.default)(v,p+"Style",m[1]||"solid"),(0,r.default)(v,p+"Color",m[2]||"black"),v),1==m.length&&g&&(i[p][p+g[0]]=m[0]),"continue"}if(/^background(color)?$/i.test(t))return i["backgroundColor"]=c,"continue";if(/padding|margin|radius/i.test(t)){var b=/radius$/i.test(t),x=b?"borderRadius":t.match(/[a-z]+/)[0],w=[0,0,0,0].map((function(t,e){return b?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][e]:[x+"Top",x+"Right",x+"Bottom",x+"Left"][e]}));if("padding"===t||"margin"===t||/^(border)?radius$/i.test(t)){var y,k=(null===c||void 0===c?void 0:c.split(" ").map((function(t){return/^\d/.test(t)&&(0,l.toPx)(t,u["width"])}),[]))||[0],_=b?"borderRadius":t,C=(0,o.default)(k,4),S=C[0],P=C[1],T=C[2],M=C[3];i[_]=(y={},(0,r.default)(y,w[0],S),(0,r.default)(y,w[1],(0,l.isNumber)(P)?P:S),(0,r.default)(y,w[2],(0,l.isNumber)(T)?T:S),(0,r.default)(y,w[3],(0,l.isNumber)(M)?M:P||S),y)}else{var I;if("object"===(0,n.default)(i[x]))i[x][t]=(0,l.toPx)(c,u["width"]);else i[x]=(I={},(0,r.default)(I,w[0],i[x]||0),(0,r.default)(I,w[1],i[x]||0),(0,r.default)(I,w[2],i[x]||0),(0,r.default)(I,w[3],i[x]||0),I),i[x][t]=(0,l.toPx)(c,u["width"])}return"continue"}if(/^(width|height)$/i.test(t))return/%$/.test(c)?i[t]=(0,l.toPx)(c,a.layoutBox[t]):i[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):c,"continue";if(/^transform$/i.test(t))return i[t]={},c.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(e,a,n){var o=n.split(",").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})),r=function(t,e){return t.includes("deg")?1*t:e&&!/%$/.test(e)?(0,l.toPx)(t,e):t};a.includes("matrix")?i[t][a]=o.map((function(t){return 1*t})):a.includes("rotate")?i[t][a]=1*n.match(/^-?\d+(\.\d+)?/)[0]:/[X, Y]/.test(a)?i[t][a]=/[X]/.test(a)?r(o[0],u["width"]):r(o[0],u["height"]):(i[t][a+"X"]=r(o[0],u["width"]),i[t][a+"Y"]=r(o[1]||o[0],u["height"]))})),"continue";if(/^transformOrigin/i.test(t))return i[t]=c.replace(/^([%\.\da-zA-Z]+)$/,"$1 $1"),"continue";if(/%/.test(c)){var R=a.layoutBox,$=R.width,O=R.height,B=(R.left,R.top,e.root),D=B.width,z=B.height;i.position;i[t]="width"==t?(0,l.toPx)(c,$||D):"height"==t?(0,l.toPx)(c,O||z):"left"==t||"top"==t?c:(0,l.toPx)(c,u["width"])}else i[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):/em$/.test(c)&&"text"==s?(0,l.toPx)(c,u["fontSize"]):c},f=0,h=Object.keys(u);f<h.length;f++)d();return/image/.test(t.name||t.type)&&!i.mode&&(i.mode=t.mode||"scaleToFill",u.width&&"auto"!=u.width||u.height&&"auto"!=u.width||(i.mode="")),i}},{key:"getLayoutBox",value:function(t){var e,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r={},s=t||{},u=s.name,c=s.computedStyle,d=(s.layoutBox,s.attributes);s.isRoot;if(!u)return r;var f=this.ctx,h=i.layoutBox,v=void 0===h?this.root:h,p=i.computedStyle,g=c.verticalAlign,m=c.left,b=c.top,x=c.width,w=c.height,y=c.fontSize,k=void 0===y?14:y,_=c.lineHeight,C=void 0===_?"1.4em":_,S=c.maxLines,P=c.fontWeight,T=c.fontFamily,M=c.textStyle,I=c.position,R=c.display,$=c.padding,O=void 0===$?{}:$,B=c.margin,D=void 0===B?{}:B,z=O.paddingTop,N=void 0===z?0:z,L=O.paddingRight,j=void 0===L?0:L,F=O.paddingBottom,E=void 0===F?0:F,W=O.paddingLeft,A=void 0===W?0:W,H=D.marginTop,U=void 0===H?0:H,q=D.marginRight,G=void 0===q?0:q,J=D.marginBottom,Q=void 0===J?0:J,X=D.marginLeft,Y=void 0===X?0:X,Z=o[n-1]||{},K=Z.layoutBox,V=Z.computedStyle,tt=Z.name,et=o[n+1]||{},at=et.layoutBox,it=(et.computedStyle,et.name,(null===V||void 0===V||null===(e=V.margin)||void 0===e?void 0:e.marginBottom)||0),nt=(null===V||void 0===V||null===(a=V.margin)||void 0===a?void 0:a.marginRight)||0;if(/%$/.test(m)&&(m=(0,l.toPx)(m,v.width)),/%$/.test(b)&&(b=(0,l.toPx)(b,v.height)),"relative"==I&&(m+=v.left,b+=v.top),"text"===u){var ot=d.text||"";C=(0,l.toPx)(C,k),f.save(),f.setFonts({fontFamily:T,fontSize:k,fontWeight:P,textStyle:M});var rt=0==n,st="inlineBlock"===R,ut="block"===R||"block"===(null===V||void 0===V?void 0:V.display),ct=rt&&!at||!(null!==i&&void 0!==i&&i.id),dt=rt||ut?0:K.offsetRight||0,lt=ot.split("\n"),ft=1,ht="",vt=c.textIndent||0;ct||st?(ht=ot,ft=Math.max(lt.length,Math.ceil(f.measureText(ot,k).width/((x||v.width)-f.measureText("!",k).width/2)))):lt.map((function(t,e){ft+=e;for(var a=t.split(""),i=0;i<a.length;i++){var n=a[i],o=ht+n,r=f.measureText(o,k).width;1==ft&&(r=r+(ut?0:dt)+vt),r>(x||v.width)?(ft++,ht=n):ht=o}})),st||(r.offsetLeft=((0,l.isNumber)(m)||ut||ct?vt:dt)+A+Y),r.offsetTop=N;var pt=f.measureText(ht,k).width,gt=(ft>1?v.width:pt+((null===r||void 0===r?void 0:r.offsetLeft)||0))+j;st||(r.offsetRight=(m||0)+r.offsetLeft+(x||(ut?v.width:pt))+j+G);var mt=K?K.left+K.width:0,bt=function(){return st?(mt+gt>v.width||rt?v.left:mt+nt)+Y:m||v.left},xt=function(){return st?gt+A+j:x||(!ct||ut?v.width:gt>v.width-r.left||ft>1?v.width-r.left:gt)},wt=function(){return w||(ft>1?(S?Math.min(S,ft):ft)*C+N+E:C+N+E)},yt=function(){var t=b;return t||(t=rt?v.top:1==ft&&gt<v.width&&"text"===tt&&!ut&&!st||K.width<v.width&&!(st&&mt+gt>v.width)?K.top:K.top+K.height-((null===i||void 0===i?void 0:i.id)&&((null===V||void 0===V?void 0:V.lineHeight)||0))),"bottom"===g&&(t=v.top+(v.height-r.height||0)),"middle"===g&&(t=v.top+(v.height?(v.height-r.height||0)/2:0)),t+U+(ut&&(null===V||void 0===V?void 0:V.lineHeight)||0)+(mt+gt>v.width?it:0)};r.left=bt(),r.width=xt(),r.height=wt(),r.top=yt(),p&&!p.height&&(v.height=r.top-v.top+r.height),f.restore()}else if(["view","qrcode"].includes(u))r.left=(m||v.left)+Y-G,r.width=(x||(null===v||void 0===v?void 0:v.width))-A-j,r.height=w||0,(0,l.isNumber)(b)?r.top=b+U:r.top=(K&&K.top+K.height||v.top)+U+it;else if("image"===u){var kt=d.width,_t=d.height,Ct=K&&K.left+K.width;if((0,l.isNumber)(m)?r.left=m+Y-G:r.left=(K&&(Ct<v.width?Ct:v.left)||v.left)+Y-G,(0,l.isNumber)(x)?r.width=x:r.width=Math.round((0,l.isNumber)(w)?kt*w/_t:null===v||void 0===v?void 0:v.width),(0,l.isNumber)(w))r.height=w;else{var St=Math.round(r.width*_t/kt);r.height=Math.min(St,null===v||void 0===v?void 0:v.height)}(0,l.isNumber)(b)?r.top=b+U:r.top=(K&&(Ct<v.width?Ct:K.top+K.height)||v.top)+U+it}return r.top+r.height+Q>this.layoutHeight&&(this.layoutHeight=r.top+r.height+Q),r}},{key:"getAttributes",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(e){var a,i,n,o,r,u,c,d;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a={},!(null!==e&&void 0!==e&&e.url||null!==e&&void 0!==e&&e.src)){t.next=16;break}return a.src=e.url||(null===e||void 0===e?void 0:e.src),t.next=5,(0,l.getImageInfo)(a.src,this.isH5PathToBase64);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:i=t.t0,n=i.width,o=void 0===n?0:n,r=i.height,u=void 0===r?0:r,c=i.path,d=i.originSrc,a=Object.assign({},a,{width:o,height:u,src:c,originSrc:d});case 16:return null!==e&&void 0!==e&&e.text&&(a.text=e.text),t.abrupt("return",a);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"calcNode",value:function(){var t=(0,u.default)((0,s.default)().mark((function t(e){var a;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNodeTree(e);case 2:return a=t.sent,a.count=this.count,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();e.Layout=f},bc98:function(t,e,a){var i=a("c578");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("718bbecc",i,!0,{sourceMap:!1,shadowMode:!1})},be0b:function(t,e,a){"use strict";var i=a("bc98"),n=a.n(i);n.a},c010:function(t,e,a){"use strict";a.r(e);var i=a("48cf"),n=a("5569");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("264e");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"3e76155c",null,!1,i["a"],void 0);e["default"]=s.exports},c054:function(t,e,a){"use strict";a.r(e);var i=a("07e7"),n=a("cc68");for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("d7e5");var r=a("f0c5"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"f3eeca38",null,!1,i["a"],void 0);e["default"]=s.exports},c258:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-mask[data-v-08557517]{opacity:0;background-color:rgba(0,0,0,.6)}.use-mask-show[data-v-08557517]{opacity:1;visibility:visible;-webkit-transform:scale(1);transform:scale(1)}',""]),t.exports=e},c578:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */',""]),t.exports=e},c618:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("99af"),a("4de4"),a("d3b7"),a("159b"),a("14d9"),a("fb6a");var n=i(a("c7eb")),o=i(a("1da1")),r=i(a("5530")),s=i(a("1aba")),u=i(a("01f5")),c=a("26cb"),d={components:{lPainter:s.default},computed:(0,r.default)({},(0,c.mapState)(["islogin","member"])),data:function(){return{id:0,mid:0,goods:{},swiperDatas:[],sku:{},skuDatas:[],shareShow:!1,posterQRcode:"",posterUrl:"",posterShow:!1,posterData:{},couponShow:!1,couponDatas:[],tagShow:!1,tagDatas:[],evaluateDatas:[],evaluateTitle:"评价",html_nodes:"",favorite:!1,scrollTop:0}},watch:{sku:function(t){this.goods.price=t.price,this.goods.market_price=t.market_price,this.goods.stock_num=t.num}},onShareAppMessage:function(t){var e=0;return this.member&&this.member._id&&(e=this.member._id),{title:this.goods.share_title,path:"/pages/goods/goods?id=".concat(this.id,"&mid=").concat(e),success:function(t){console.log("转发成功",t)},fail:function(t){console.log("转发失败",t)}}},onPageScroll:function(t){this.$refs.usetop.change(t.scrollTop)},onLoad:function(t){if(console.log("onload opts",t),t)if(this.mid=t.mid||"",t.id)this.id=t.id;else if(t.q){var e=decodeURIComponent(t.q)||decodeURIComponent(uni.getStorageInfoSync("__scene_query_q"));this.resolveQueryq(e)}this.id||this.$api.msg("商品ID无效")},onShow:function(t){if(!this.id){var e=decodeURIComponent(uni.getStorageInfoSync("__scene_query_q"));this.resolveQueryq(e)}this.loadData()},methods:{loadData:function(){var t=this;return(0,o.default)((0,n.default)().mark((function e(){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$func.usemall.call("goods/detail",{goods_id:t.id,share_mid:t.mid}).then((function(e){if(200===e.code){t.evaluateDatas=e.datas.evaluate,e.datas.evaluate_cnt&&(t.evaluateTitle="评价(".concat(e.datas.evaluate_cnt,")")),"string"===typeof e.datas.goods.imgs?t.swiperDatas=e.datas.goods.imgs.split(",").filter((function(t){return t})):t.swiperDatas=e.datas.goods.imgs,t.goods=e.datas.goods;var a=e.datas.goods_detail;t.html_nodes=a.desc_mobile;var i=e.datas.goods_skus;if(i.length>0){var n=[];i.forEach((function(e,a){n.push({id:e._id,sku:e.goods_sku,name:e.spec,price:e.price,market_price:e.market_price||t.goods.market_price,num:e.stock_num,selected:0==a})})),t.skuDatas=n}t.skuDatas.length>0&&(t.sku=t.skuDatas[0]),"string"===typeof t.goods.tags&&(t.goods.tags=t.goods.tags.split(",").filter((function(t){return t})));var o=[];return t.goods.tags.forEach((function(t,e){o.push({name:t,selected:0==e})})),t.tagDatas=o,void(t.favorite=1===t.goods.collected)}t.$api.msg(e.msg)}));case 2:case"end":return e.stop()}}),e)})))()},resolveQueryq:function(t){var e=t.split("/").slice(-1)[0].split("_");2==e.length&&(this.mid=e[1]),this.id=e[0]},preview:function(t,e){t&&uni.previewImage({urls:t,current:e,longPressActions:{itemList:["发送给朋友","保存图片","收藏"],success:function(t){console.log(res)},fail:function(t){console.log(t)}}})},shareOpen:function(){this.loginCheck()&&(this.shareShow=!0)},createPoster:function(){this.posterUrl?this.posterShow=!0:(uni.showLoading({title:"生成海报中"}),this.posterQRcode="https://usemall-h5.use-cloud.com/#/pages/goods/goods?id=".concat(this.goods._id,"&mid=").concat(this.member._id))},posterQRcodeResult:function(t){this.posterData=u.default.getGoodsData(this.member,this.goods,t),this.posterShow=!0},posterSuccess:function(t){this.posterUrl=t,uni.hideLoading()},posterSave:function(){this.posterUrl&&(uni.showLoading({title:"保存中"}),uni.saveImageToPhotosAlbum({filePath:this.posterUrl,success:function(){uni.hideLoading(),uni.showToast({title:"海报保存成功",icon:"success",duration:2e3})}}))},selectSKU:function(t){var e=this;this.skuDatas.forEach((function(a){t.sku==a.sku?e.$set(a,"selected",!0):e.$set(a,"selected",!1)})),this.sku=t},toevaluate:function(){uni.navigateTo({url:"/pages/goods/goods-evaluate?id=".concat(this.id)})},tohome:function(){this.$api.tohome()},tofavorite:function(){var t=this;if(this.loginCheck()){this.favorite=!this.favorite;var e={goods_id:this.id,state:this.favorite?"已收藏":"已取消"};this.$func.usemall.call("member/collect",e).then((function(e){e.datas?t.favorite?t.$api.msg("收藏成功"):t.$api.msg("取消成功"):t.$api.msg(e.msg)}))}},tocart:function(t){var e=this;this.loginCheck()&&this.$func.usemall.call("goods/addcart",{goods_id:t._id,goods_num:1,goods_sku:this.sku.id}).then((function(t){200!==t.code?e.$api.msg(t.msg):e.$api.msg(t.datas.msg)}))},tobuy:function(t){this.loginCheck()&&uni.navigateTo({url:"/pages/order/create?goods_id=".concat(this.id,"&sku_id=").concat(this.sku.id||"")})},loginCheck:function(){if(!this.islogin){var t=this;return uni.showModal({title:"授权登录",success:function(e){e.confirm&&t.$api.tologin()}}),!1}return!0}}};e.default=d},c82d:function(t,e,a){var i=a("5079");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("187765ca",i,!0,{sourceMap:!1,shadowMode:!1})},cc68:function(t,e,a){"use strict";a.r(e);var i=a("c618"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},d2b9:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("a9e3");var i={props:{show:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:"10000"},zoom:{type:Boolean,default:!0},duration:{type:[Number,String],default:300},maskClickAble:{type:Boolean,default:!0}},computed:{maskStyle:function(){var t={transition:"all ".concat(this.duration/1e3,"s ease-in-out"),zIndex:this.zIndex};return this.show?t.zIndex=this.zIndex:t.zIndex=-1,this.zoom&&(t.transform="scale(1.2, 1.2)"),t}},methods:{click:function(){this.maskClickAble&&this.$emit("click")}}};e.default=i},d7e5:function(t,e,a){"use strict";var i=a("6675"),n=a.n(i);n.a},e708:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.use-list-title[data-v-252f08b0]{height:%?100?%;line-height:%?100?%}.use-list-title .__left[data-v-252f08b0]{font-size:%?40?%}.use-list-title .iconfont[data-v-252f08b0]{color:silver}.use-list-title .tip[data-v-252f08b0]{font-size:%?24?%;color:silver}',""]),t.exports=e},eccf:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0;var n=i(a("b85c"));a("2ca0"),a("14d9"),a("498a"),a("baa5"),a("ac1f"),a("466d"),a("acd8"),a("c975");var o={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,a,i){t.startsWith("linear")?function(t,e,a,i){for(var n=function(t,e,a){var i,n=t.match(/([-]?\d{1,3})deg/),o=n&&n[1]?parseFloat(n[1]):0;switch(o){case 0:i=[0,-a/2,0,a/2];break;case 90:i=[e/2,0,-e/2,0];break;case-90:i=[-e/2,0,e/2,0];break;case 180:i=[0,a/2,0,-a/2];break;case-180:i=[0,-a/2,0,a/2];break;default:var r=0,s=0,u=0,c=0;n[1]>0&&n[1]<90?(r=e/2-(e/2*Math.tan((90-n[1])*Math.PI*2/360)-a/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*r,u=-r,s=-c):n[1]>-180&&n[1]<-90?(r=-e/2+(e/2*Math.tan((90-n[1])*Math.PI*2/360)-a/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*r,u=-r,s=-c):n[1]>90&&n[1]<180?(r=e/2+(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-a/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*r,u=-r,s=-c):(r=-e/2-(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-a/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*r,u=-r,s=-c),i=[r,s,u,c];break}return i}(a,t,e),o=i.createLinearGradient(n[0],n[1],n[2],n[3]),s=a.match(/linear-gradient\((.+)\)/)[1],u=r(s.substring(s.indexOf(",")+1)),c=0;c<u.colors.length;c++)o.addColorStop(u.percents[c],u.colors[c]);i.setFillStyle(o)}(e,a,t,i):t.startsWith("radial")&&function(t,e,a,i){for(var n=r(a.match(/radial-gradient\((.+)\)/)[1]),o=i.createCircularGradient(0,0,t<e?e/2:t/2),s=0;s<n.colors.length;s++)o.addColorStop(n.percents[s],n.colors[s]);i.setFillStyle(o)}(e,a,t,i)}};function r(t){var e,a=t.substring(0,t.length-1).split("%,"),i=[],o=[],r=(0,n.default)(a);try{for(r.s();!(e=r.n()).done;){var s=e.value;i.push(s.substring(0,s.lastIndexOf(" ")).trim()),o.push(s.substring(s.lastIndexOf(" "),s.length)/100)}}catch(u){r.e(u)}finally{r.f()}return{colors:i,percents:o}}e.GD=o},ef21:function(t,e,a){"use strict";a.r(e);var i=a("b0af"),n=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},fbfc:function(t,e,a){"use strict";a("7a82");var i=a("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=d,e.compareVersion=function(t,e){t=t.split("."),e=e.split(".");var a=Math.max(t.length,e.length);while(t.length<a)t.push("0");while(e.length<a)e.push("0");for(var i=0;i<a;i++){var n=parseInt(t[i],10),o=parseInt(e[i],10);if(n>o)return 1;if(n<o)return-1}return 0},e.getImageInfo=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(){var i=(0,o.default)((0,n.default)().mark((function i(o,r){var c,f;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(c=/^data:image\/(\w+);base64/,/^\.|^\/(?=[^\/])/,!s.test(t)||!e){i.next=6;break}return i.next=5,l(t);case 5:t=i.sent;case 6:if(!c.test(t)){i.next=16;break}if(u[t]){i.next=15;break}return f=t,i.next=11,d(t);case 11:t=i.sent,u[f]=t,i.next=16;break;case 15:t=u[t];case 16:u[t]&&u[t].errMsg&&!a?o(u[t]):uni.getImageInfo({src:t,success:function(e){e.path=e.path.replace(/^\./,window.location.origin),e.originSrc=t,u[t]=e,o(u[t])},fail:function(e){o({path:t}),console.error("getImageInfo:fail ".concat(t," failed ").concat(JSON.stringify(e)))}});case 17:case"end":return i.stop()}}),i)})));return function(t,e){return i.apply(this,arguments)}}())},e.isNumber=c,e.pathToBase64=l,e.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.toPx=function t(e,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"===typeof e)return e;if(c(e))return 1*e;if("string"===typeof e){var n=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,o=n.exec(e);if(!e||!o)return 0;var r=o[3];e=parseFloat(e);var s=0;return"rpx"===r?s=uni.upx2px(e):"px"===r?s=1*e:"%"===r?s=e*t(a)/100:"em"===r&&(s=e*t(a||14)),i?1*s.toFixed(2):Math.round(s)}};var n=i(a("c7eb")),o=i(a("1da1")),r=i(a("3835"));a("d3b7"),a("ac1f"),a("00b4"),a("acd8"),a("14d9"),a("e25e"),a("c19f"),a("ace4"),a("c975"),a("5cc6"),a("907a"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("986a"),a("1d02"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("b39a"),a("72f7"),a("5319"),a("d401"),a("81b2"),a("0eb6"),a("b7ef"),a("8bd4"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("e9c4"),a("d9e2"),a("99af");var s=/^(http|\/\/)/;var u={};function c(t){return/^-?\d+(\.\d+)?$/.test(t)}function d(t){var e=/data:image\/(\w+);base64,(.*)/.exec(t)||[],a=(0,r.default)(e,3);a[1],a[2];return new Promise((function(e,a){for(var i=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),o=new ArrayBuffer(n.length),r=new Uint8Array(o),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);e(URL.createObjectURL(new Blob([r],{type:i})))}))}function l(t){return new Promise((function(e,a){var i=function(){var i=new Image;i.setAttribute("crossOrigin","Anonymous"),i.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(i,0,0);var a=t.toDataURL("image/png");e(a),t.height=t.width=0},i.src=t,i.onerror=function(e){console.error("urlToBase64 error: ".concat(t),JSON.stringify(e)),a(new Error("urlToBase64 error"))}},n=function(t){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(t),i.onerror=function(t){console.error("blobToBase64 error:",JSON.stringify(t)),a(new Error("blobToBase64 error"))}},o="function"===typeof FileReader;if(s.test(t)&&o){window.URL=window.URL||window.webkitURL;var r=new XMLHttpRequest;r.open("get",t,!0),r.timeout=2e3,r.responseType="blob",r.onload=function(){200==this.status?n(this.response):i()},r.onreadystatechange=function(){0===this.status&&console.error("图片跨域了，得后端处理咯")},r.send()}else/^blob/.test(t)&&o?n(t):i()}))}}}]);