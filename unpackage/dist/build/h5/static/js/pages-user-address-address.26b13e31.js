(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-address-address"],{"1c63":function(n,t,a){"use strict";a.r(t);var e=a("d2561"),i=a("b260");for(var s in i)["default"].indexOf(s)<0&&function(n){a.d(t,n,(function(){return i[n]}))}(s);a("8242");var o=a("f0c5"),d=Object(o["a"])(i["default"],e["b"],e["c"],!1,null,"b90f76f8",null,!1,e["a"],void 0);t["default"]=d.exports},5937:function(n,t,a){var e=a("24fb");t=e(!1),t.push([n.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-b90f76f8]{background:#f5f5f5}body.?%PAGE?%[data-v-b90f76f8]{background:#f5f5f5}.desc[data-v-b90f76f8]{font-size:%?32?%}.btn-container[data-v-b90f76f8]{left:%?20?%;right:%?20?%;bottom:%?20?%}',""]),n.exports=t},"66da":function(n,t,a){"use strict";a("7a82");var e=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=e(a("c7eb")),s=e(a("1da1"));a("99af"),a("c975");var o="usemall-member-address",d={data:function(){return{env:{},is_mp:!1,platform:"",platform_name:"",platform_icon:"",source:0,addressDatas:[]}},onLoad:function(n){var t=this;this.$api.get_env((function(n){t.env=n,t.is_mp=t.env.is_mp,t.platform=t.env.platform,t.platform_icon=t.env.platform_icon,t.platform_name=t.env.platform_name})),this.source=n.source||0},onShow:function(){this.loadData()},methods:{loadData:function(){var n=this;this.$db[o].where("create_uid == $cloudEnv_uid").tolist({orderby:"is_default desc"}).then((function(t){200!==t.code?n.$api.msg(t.msg):n.addressDatas=t.datas}))},importAddr:function(){var n=this;uni.chooseAddress({success:function(t){var a={is_default:"否"};a.consignee=t.userName,a.mobile=t.telNumber,a.addr_detail=t.detailInfo,a.province_name=t.provinceName,a.city_name=t.cityName,a.area_name=t.countyName||"",a.address="".concat(a.province_name,"-").concat(a.city_name,"-").concat(a.area_name),a.addr_source=n.$env.platform,a.mobile?(console.log("uni chooseAddress",a),n.$db[o].add(a).then((function(t){if(200===t.code)return n.$api.msg("导入成功"),void n.loadData();n.$api.msg(t.msg)}))):n.$api.msg("收货人手机不存在")},fail:function(t){-1!==t.errMsg.indexOf("cancel")?n.$api.msg("已取消"):uni.showModal({content:"打开授权",success:function(n){n.confirm&&uni.openSetting({})}})}})},setDefault:function(n){var t=this;uni.showModal({title:"提示",content:"设为默认",success:function(){var a=(0,s.default)((0,i.default)().mark((function a(e){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.confirm){a.next=7;break}return a.next=3,t.$db[o].where('create_uid == $env.uid && is_default == "是"').update({is_default:"否"}).then((function(n){}));case 3:return a.next=5,t.$db[o].update(n._id,{is_default:"是"}).then((function(n){200===n.code&&t.loadData()}));case 5:a.next=8;break;case 7:e.cancel&&console.log("用户点击取消");case 8:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}()})},selectAddr:function(n){1==this.source&&(uni.$emit("__event_choice_address",n),uni.navigateBack())},addAddr:function(n,t){t=t||{id:0},uni.navigateTo({url:"/pages/user/address/address-edit?type=".concat(n,"&id=").concat(t._id)})},removeAddr:function(n){var t=this;uni.showModal({title:"提示",content:"删除收货人",success:function(){var a=(0,s.default)((0,i.default)().mark((function a(e){return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.confirm){a.next=5;break}return a.next=3,t.$db[o].remove(n._id).then((function(n){200===n.code&&t.loadData()}));case 3:a.next=6;break;case 5:e.cancel&&console.log("用户点击取消");case 6:case"end":return a.stop()}}),a)})));return function(n){return a.apply(this,arguments)}}()})}}};t.default=d},8242:function(n,t,a){"use strict";var e=a("a838"),i=a.n(e);i.a},a838:function(n,t,a){var e=a("5937");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[n.i,e,""]]),e.locals&&(n.exports=e.locals);var i=a("4f06").default;i("676d10a9",e,!0,{sourceMap:!1,shadowMode:!1})},b260:function(n,t,a){"use strict";a.r(t);var e=a("66da"),i=a.n(e);for(var s in e)["default"].indexOf(s)<0&&function(n){a.d(t,n,(function(){return e[n]}))}(s);t["default"]=i.a},d2561:function(n,t,a){"use strict";a.d(t,"b",(function(){return e})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var e=function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("v-uni-view",{staticClass:"padding-lr padding-bottom-big margin-bottom ft-main bg-drak"},[n._l(n.addressDatas,(function(t,e){return a("v-uni-view",{key:e,staticClass:"bg-main padding-top padding-lr border-radius margin-top-sm",on:{click:function(a){arguments[0]=a=n.$handleEvent(a),n.selectAddr(t)}}},[a("v-uni-view",{staticClass:"w-full dflex-wrap-w border-line"},[a("v-uni-view",{staticClass:"fwb margin-bottom-xs desc"},[a("v-uni-text",[n._v(n._s(t.address)+" "+n._s(t.addr_detail))])],1),a("v-uni-view",{staticClass:"margin-bottom-sm"},[a("v-uni-text",[n._v(n._s(t.consignee))]),a("v-uni-text",{staticClass:"margin-left"},[n._v(n._s(t.mobile))])],1)],1),a("v-uni-view",{staticClass:"dflex-b"},["是"==t.is_default?a("v-uni-view",{staticClass:"dflex active"},[a("v-uni-text",{staticClass:"iconfont iconxuanzhongzhuangtai padding-tb-sm padding-right-sm"}),a("v-uni-text",[n._v("默认地址")])],1):a("v-uni-view",{staticClass:"dflex ft-dark",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.setDefault(t)}}},[a("v-uni-text",{staticClass:"iconfont iconweixuanzhongzhuangtai padding-tb-sm padding-right-sm"}),a("v-uni-text",[n._v("设为默认")])],1),0==n.source||1==n.source?a("v-uni-view",{staticClass:"dflex"},[a("v-uni-view",{staticClass:"padding-tb-sm padding-right-sm",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.addAddr("edit",t)}}},[a("v-uni-text",{staticClass:"iconfont iconbianji-01 ft-dark"})],1),a("v-uni-view",{staticClass:"padding-tb-sm padding-left-sm",on:{click:function(a){a.stopPropagation(),arguments[0]=a=n.$handleEvent(a),n.removeAddr(t)}}},[a("v-uni-text",{staticClass:"iconfont iconlajitong-01 ft-dark"})],1)],1):n._e()],1)],1)})),a("v-uni-view",{staticClass:"btn-container dflex-b pos-f border-radius-big"},[n.is_mp?a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-main",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.importAddr.apply(void 0,arguments)}}},[n._v(n._s(n.platform_name)+"导入")]):n._e(),a("v-uni-view",{staticClass:"tac padding-tb-sm flex1 bg-base",on:{click:function(t){arguments[0]=t=n.$handleEvent(t),n.addAddr("add")}}},[n._v("添加地址")])],1)],2)},i=[]}}]);