(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/order/order-detail"],{2990:function(e,t,o){"use strict";(function(e){var r=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(o("2eee")),n=r(o("c973")),d={components:{},data:function(){return{order_detail:[],order_data:{},addressData:[],sharekefuList:[],shareEmptyList:[],order_id:"",goods_price_tip:"产品总计",time_remaining:0}},onUnload:function(){e.$emit("__event_order","refresh")},onLoad:function(e){this.order_id=e.order_id,this.loadData()},onShow:function(){this.loadData()},methods:{tohome:function(){this.$api.tohome()},loadData:function(){var e=this;return(0,n.default)(a.default.mark((function t(){var o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e,t.next=3,e.$func.usemall.call("order/detail",{order_id:o.order_id}).then((function(t){200===t.code&&(t.datas.order.create_time=e.$api.format(t.datas.order.create_time),o.order_data=t.datas.order,o.order_detail=t.datas.order_detail,o.addressData=t.datas.order_trip,t.datas.order&&"待付款"===t.datas.order.state&&(o.time_remaining=t.datas.time_remaining),o.order_detail.forEach((function(e){if(e.goods_opt_id>0){var t="";e.goods_opt_desc&&(t=" ("+e.goods_opt_desc+")"),o.goods_price_tip=e.goods_opt_name+t}})))}));case 3:case"end":return t.stop()}}),t)})))()},payment:function(){"待核实"!=this.order_data.order_pay_state?this.$api.topay({order_id:this.order_data.order_id,money:this.order_data.order_actural_paid}):this.$api.msg("订单已支付待核实状态")},toexpress:function(t){e.navigateTo({url:"/pages/user/order/order-express?order_id=".concat(this.order_id)})},toreceipt:function(){var t=this;e.showModal({title:"提示",content:"确认收货",success:function(o){o.confirm?(e.showLoading({title:"请稍后"}),t.$func.usemall.call("order/received",{order_id:t.order_id,state:"待评价"}).then((function(e){t.loadData("refresh")}))):o.cancel&&console.log("用户点击取消")},complete:function(){e.hideLoading()}})},delorder:function(){var t=this;e.showModal({title:"提示",content:"删除订单",success:function(o){o.confirm?(e.showLoading({title:"请稍后"}),t.$func.usemall.call("order/deleted",{order_id:t.order_id}).then((function(t){200===t.code&&e.navigateBack({})}))):o.cancel&&console.log("点击取消")},complete:function(){e.hideLoading()}})},cancelOrder:function(){var t=this;e.showModal({title:"提示",content:"取消订单",success:function(o){o.confirm?(e.showLoading({title:"请稍后"}),t.$func.usemall.call("order/cancel",{order_id:t.order_id,state:"已取消"}).then((function(e){200===e.code&&t.loadData("refresh")}))):o.cancel&&console.log("用户点击取消")},complete:function(){e.hideLoading()}})},copy:function(){e.setClipboardData({data:this.order_id,success:function(t){e.getClipboardData({success:function(t){e.showToast({title:"复制成功"})}})}})},evaluate:function(){e.navigateTo({url:"/pages/user/order/order-evaluate?id=".concat(this.order_id)})},refund:function(){e.navigateTo({url:"/pages/user/order/order-refund?order_id=".concat(this.order_id)})}}};t.default=d}).call(this,o("543d")["default"])},"3d5a":function(e,t,o){"use strict";o.r(t);var r=o("64a8"),a=o("bb9e");for(var n in a)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(n);o("7e54");var d=o("f0c5"),i=Object(d["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=i.exports},"64a8":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r}));var r={useCountDown:function(){return o.e("components/use-count-down/use-count-down").then(o.bind(null,"e691"))}},a=function(){var e=this.$createElement,t=(this._self._c,!this.order_data.order_refund_state&&["待收货","待评价","已完成"].includes(this.order_data.state));this.$mp.data=Object.assign({},{$root:{g0:t}})},n=[]},"7e54":function(e,t,o){"use strict";var r=o("bd3d"),a=o.n(r);a.a},bb9e:function(e,t,o){"use strict";o.r(t);var r=o("2990"),a=o.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(n);t["default"]=a.a},bd3d:function(e,t,o){},ecd1:function(e,t,o){"use strict";(function(e,t){var r=o("4ea4");o("cd95"),o("a9ff");r(o("66fd"));var a=r(o("3d5a"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(a.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])}},[["ecd1","common/runtime","common/vendor"]]]);